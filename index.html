<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ku4js-data by kodmunki</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ku4js-data</h1>
        <p>kodmunki™ utilities for JavaScript data</p>

        <p class="view"><a href="https://github.com/kodmunki/ku4js-data">View the Project on GitHub <small>kodmunki/ku4js-data</small></a></p>


        <ul>
          <li><a href="https://github.com/kodmunki/ku4js-data/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/kodmunki/ku4js-data/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/kodmunki/ku4js-data">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="ku4js-data" class="anchor" href="#ku4js-data"><span class="octicon octicon-link"></span></a>ku4js-data</h1>

<p>kodmunki™ utilities for JavaScript data.</p>

<p>This library includes Query String and JSON parsers, Data Transfer Objects, ajax services, and persistent, validatable, and transferable forms</p>

<h1>
<a name="dependencies" class="anchor" href="#dependencies"><span class="octicon octicon-link"></span></a>Dependencies</h1>

<ul>
<li>ku4js-kernel - <a href="https://github.com/kodmunki/ku4js-kernel">https://github.com/kodmunki/ku4js-kernel</a>
</li>
</ul>

<h1>
<a name="kodmunki-build-process" class="anchor" href="#kodmunki-build-process"><span class="octicon octicon-link"></span></a>kodmunki™ build process</h1>

<p>This build process is dependent upon yuicompressor and a specific directory structure:</p>

<ul>
<li>root
*:_build (This build script and the yuicompressor)

<ul>
<li>bin (The compiled scripts will appear here)</li>
<li>src (All script files go here)</li>
</ul>
</li>
</ul>

<p>The following variables found in setup () are
expected to be changed by the developer running
this process:</p>

<ul>
<li>PROJNAME (The name of your project)</li>
<li>STARTMSG (A message to echo at start of build)</li>
<li>ENDMSG (A message to echo at end of build)</li>
</ul>

<hr>

<h1>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h1>

<p>The following is documentation for each class in the ku4js-data library organized by common domain to follow the
directory structure found in /src. All constructors are empty unless otherwise noted.</p>

<h2>
<a name="ajax" class="anchor" href="#ajax"><span class="octicon octicon-link"></span></a>Ajax</h2>

<h3>
<a name="serivce" class="anchor" href="#serivce"><span class="octicon octicon-link"></span></a>serivce</h3>

<table>
<thead>
<tr>
<th>API</th>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>processId</td>
<td>uid</td>
<td></td>
</tr>
<tr>
<td>GET</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>POST</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>PUT</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>HEAD</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>OPTIONS</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>DELETE</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>TRACE</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>CONNECT</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>xhr</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>xss</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>sync</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>async</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>xml</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>verb</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>uri</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>contentType</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>responseType</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>strategy</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>maxAttempts</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>isLocal</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>isAsync</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>isLocked</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>isBusy</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>lock</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>unlock</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>onSuccess</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>onError</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>onComplete</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>removeListener</td>
<td>this</td>
<td></td>
</tr>
<tr>
<td>clearListeners</td>
<td>this</td>
<td></td>
</tr>
</tbody>
</table>

<h2>
<a name="data" class="anchor" href="#data"><span class="octicon octicon-link"></span></a>Data</h2>

<h3>
<a name="cookie" class="anchor" href="#cookie"><span class="octicon octicon-link"></span></a>cookie</h3>

<p><em>Documentation Coming Soon</em></p>

<h3>
<a name="dto" class="anchor" href="#dto"><span class="octicon octicon-link"></span></a>dto</h3>

<table>
<thead>
<tr>
<th>API</th>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>toJson()</td>
<td>String</td>
<td>Returns the dto key, value pairs as a JSON string.</td>
</tr>
<tr>
<td>toQueryString()</td>
<td>String</td>
<td>Returns the dto key, value pairs as a Query String</td>
</tr>
<tr>
<td>saveAs(name:<em>String</em>)</td>
<td>this</td>
<td>Saves the dto key, value pairs to a cookie with name.</td>
</tr>
<tr>
<td>save()</td>
<td>String</td>
<td>Saves the dto key, value pairs to a cookie with name.</td>
</tr>
<tr>
<td>erase()</td>
<td>this</td>
<td>Erases the current dto from the cookie.</td>
</tr>
</tbody>
</table>

<h3>
<a name="json" class="anchor" href="#json"><span class="octicon octicon-link"></span></a>json</h3>

<p><em>Documentation Coming Soon</em></p>

<h3>
<a name="querystring" class="anchor" href="#querystring"><span class="octicon octicon-link"></span></a>queryString</h3>

<p><em>Documentation Coming Soon</em></p>

<h2>
<a name="form" class="anchor" href="#form"><span class="octicon octicon-link"></span></a>Form</h2>

<h3>
<a name="field" class="anchor" href="#field"><span class="octicon octicon-link"></span></a>field</h3>

<p><em>Documentation Coming Soon</em></p>

<h3>
<a name="form-1" class="anchor" href="#form-1"><span class="octicon octicon-link"></span></a>form</h3>

<p><em>Documentation Coming Soon</em></p>

<h3>
<a name="specs" class="anchor" href="#specs"><span class="octicon octicon-link"></span></a>specs</h3>

<p><em>Documentation Coming Soon</em></p>

<h3>
<a name="fields" class="anchor" href="#fields"><span class="octicon octicon-link"></span></a>Fields</h3>

<h4>
<a name="checkbox" class="anchor" href="#checkbox"><span class="octicon octicon-link"></span></a>checkbox</h4>

<p><em>Documentation Coming Soon</em></p>

<h4>
<a name="radioset" class="anchor" href="#radioset"><span class="octicon octicon-link"></span></a>radioset</h4>

<p><em>Documentation Coming Soon</em></p>

<h4>
<a name="select" class="anchor" href="#select"><span class="octicon octicon-link"></span></a>select</h4>

<p><em>Documentation Coming Soon</em></p>

<h2>
<a name="persistence" class="anchor" href="#persistence"><span class="octicon octicon-link"></span></a>Persistence</h2>

<h3>
<a name="collection" class="anchor" href="#collection"><span class="octicon octicon-link"></span></a>collection</h3>

<table>
<thead>
<tr>
<th>API</th>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>find(query)</td>
<td>Array</td>
<td>Returns an array containing the results of the query. More on find below.</td>
</tr>
<tr>
<td>insert(entity)</td>
<td>object</td>
<td>String</td>
</tr>
<tr>
<td>update(criteria, updates)</td>
<td>this</td>
<td>Updates all entities that satisfy the criteria with the data in updates.</td>
</tr>
<tr>
<td>remove(criteria)</td>
<td>this</td>
<td>Removes all entities that satisfy the criteria.</td>
</tr>
<tr>
<td>join(otherCollection, on, equals)</td>
<td>collection</td>
<td>Joins this collection with otherCollection on collection[on] == otherCollection[equals]</td>
</tr>
<tr>
<td>join(otherCollection, function)</td>
<td>collection</td>
<td>Joins this collection with otherCollection based upon the boolean return value of the passed function. The passed function will receive two parameters for each possibility combination of joins that can be used to evaluate the intention ot join.</td>
</tr>
<tr>
<td>exec(function)</td>
<td>collection</td>
<td>Runs the function for each item in the results passing the result as the argument to the function. Then function should return a value as that value will be the value in the find results.</td>
</tr>
<tr>
<td>init(array)</td>
<td>this</td>
<td>Clears this collection and initializes it with the entities in the array.</td>
</tr>
<tr>
<td>save()</td>
<td>this</td>
<td>Saves this collection to localStorage (as available).</td>
</tr>
</tbody>
</table>

<h4>
<a name="find" class="anchor" href="#find"><span class="octicon octicon-link"></span></a>Find</h4>

<p>The find method is the means by which you can query your collections. There are many ways to query a collection from
simple to complex. These methods are described below:</p>

<h5>
<a name="simple-find" class="anchor" href="#simple-find"><span class="octicon octicon-link"></span></a>Simple Find</h5>

<p>The first method of querying is the most simple. It is a direct query in which you are saying, "Give me
the objects in the collection that exactly match my query." To do this you pass an object containing the keys that you
would like to query and have values equal to that, that you are expecting. For example</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">"name"</span><span class="o">:</span> <span class="s2">"myName"</span><span class="p">}).;</span>
</pre></div>

<p>This specifies that you would like to get back all records that have a "name" with value "myName".</p>

<h5>
<a name="in-find" class="anchor" href="#in-find"><span class="octicon octicon-link"></span></a>$in Find</h5>

<p>This find allows you to specify that you are intersted in values that exist in a set. For example you may
have a collection of people, all of which have a firstName. You could then find all of the people in a set by doing the following
which will return all records where the firstName is "Alex" or "Joe" or "Erin".</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">"$in"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"Alex"</span><span class="p">,</span> <span class="s2">"Joe"</span><span class="p">,</span> <span class="s2">"Erin"</span><span class="p">]});</span>
</pre></div>

<h5>
<a name="spec-find" class="anchor" href="#spec-find"><span class="octicon octicon-link"></span></a>$spec Find</h5>

<p>This find allows you to specify a policy that must be satisfied for the item to be included in the results.
Let's say, for example, that you have a collection of cars. These cars all have doors and a price. If you want to find
all cars that have 4 doors and are less than $30,000.00 you could do the following:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">"$spec"</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">doors</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">price</span> <span class="o">&lt;</span> <span class="mi">300000</span><span class="p">;</span>
<span class="p">}});</span>
</pre></div>

<p>You can also pass a $.spec if you are using ku4js-kernel.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">"$spec"</span><span class="o">:</span> <span class="nx">$</span><span class="p">.</span><span class="nx">spec</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">doors</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">price</span> <span class="o">&lt;</span> <span class="mi">300000</span><span class="p">;</span>
<span class="p">})}.</span>
</pre></div>

<p>For those unfamiliar with spec, this may look like an unnecessary step and you can simply stick to functions.
For those who have harnessed the power of specs know that you can safely pass them in a $spec find.</p>

<h5>
<a name="orderby-find" class="anchor" href="#orderby-find"><span class="octicon octicon-link"></span></a>$orderby Find</h5>

<p>This allows you to order your results in ascending or descending order. To ascend you pass 1 to descend you pass -1. You
will pass the 1 or -1 as a value of the key on which you want to order by.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">"$orderby"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"price"</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}});</span>
</pre></div>

<h5>
<a name="complex-find" class="anchor" href="#complex-find"><span class="octicon octicon-link"></span></a>Complex Find</h5>

<p>You can use all of the various finds together as well! But they will run in a specified order. First a simple find or
an $in runs. Then the $spec will run on the results of the simple find or $in results. Finally, $orderby will run to
sort the results accordingly. For example, let's say we have a collection of cars and we want to find all cars of make:
BMW, Volvo, or Honda that have a price between 30000 and 60000 and we want to order them.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">myCollection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span>
 <span class="s2">"$in"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"make"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"BMW"</span><span class="p">,</span> <span class="s2">"Volvo"</span><span class="p">,</span> <span class="s2">"Honda"</span><span class="p">]},</span>
 <span class="s2">"$spec"</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span> <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">price</span> <span class="o">&gt;</span> <span class="mi">30000</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">price</span> <span class="o">&lt;</span> <span class="mi">60000</span><span class="p">;</span> <span class="p">},</span>
 <span class="s2">"$orderby"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"price"</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<a name="store" class="anchor" href="#store"><span class="octicon octicon-link"></span></a>store</h3>

<p><em>Documentation Coming Soon</em></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kodmunki">kodmunki</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-55799459-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>